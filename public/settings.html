<!DOCTYPE html>
<html lang="vi">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <title>Cấu hình OrbitQr</title>
        <link rel="stylesheet" href="/styles/skins.css">
        <script src="https://cdn.tailwindcss.com"></script>
    </head>
    <body class="bg-gray-100 min-h-screen flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-lg p-6 w-full max-w-xl">
            <h1 class="text-2xl font-bold mb-4 text-center">Cấu hình mặc
                định</h1>

            <form id="settingsForm" class="space-y-4">
                <div>
                    <label class="block mb-1 font-medium">Ngân hàng</label>
                    <input id="bankSearch" class="w-full border rounded p-2"
                        placeholder="Tên ngân hàng..." autocomplete="off" />
                </div>

                <div>
                    <label class="block mb-1 font-medium">Số tài khoản</label>
                    <input id="accountNo" class="w-full border rounded p-2" />
                </div>

                <div>
                    <label class="block mb-1 font-medium">Tên người nhận</label>
                    <input id="receiverName"
                        class="w-full border rounded p-2" />
                </div>

                <div>
                    <label class="block mb-1 font-medium">Màu QR</label>
                    <div class="flex items-center gap-2">
                        <input id="qrColor" type="color"
                            class="w-20 h-10 border rounded p-1" />
                        <input id="qrColorText" readonly
                            class="w-24 border rounded p-2 text-sm text-center" />
                    </div>
                </div>

                <div>
                    <label class="block mb-1 font-medium">Kích thước QR
                        (px)</label>
                    <input id="qrSize" type="number" min="12" max="1024"
                        class="w-full border rounded p-2" />
                </div>

                <div class="flex gap-2 mt-4">
                    <button type="submit"
                        class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
                        Lưu cấu hình
                    </button>
                    <a href="/index.html"
                        class="px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500">
                        Quay lại QR
                    </a>
                    <a href="/advance.html"
                        class="px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500">
                        ⚙️ Cấu hình nâng cao
                    </a>
                </div>
            </form>
        </div>

        <script src="/scripts/app.js"></script>
        <script>
    // Khi vào settings.html thì load từ localStorage và cho phép chỉnh sửa
    document.addEventListener("DOMContentLoaded", () => {
      // Load các giá trị từ localStorage vào form
      ["bankSearch","accountNo","receiverName","qrColor","qrColorText","qrSize"]
        .forEach(id=>{
          const val = localStorage.getItem(id);
          if(val) document.getElementById(id).value = val;
        });

      // Đồng bộ màu
      const qrColor = document.getElementById("qrColor");
      const qrColorText = document.getElementById("qrColorText");
      qrColor.addEventListener("input",()=>{
        qrColorText.value = qrColor.value.toUpperCase();
      });

      // Submit lưu vào localStorage
      document.getElementById("settingsForm").addEventListener("submit",(e)=>{
        e.preventDefault();
        ["bankSearch","accountNo","receiverName","qrColor","qrColorText","qrSize"]
          .forEach(id=>{
            localStorage.setItem(id,document.getElementById(id).value);
          });
        alert("Đã lưu cấu hình mặc định!");
      });
    });
  </script>
    </body>
</html>
